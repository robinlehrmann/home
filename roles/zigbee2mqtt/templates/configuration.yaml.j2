# Required: Home Assistant integration (MQTT discovery) (default: false)
homeassistant: false

# Required: allow new devices to join.
# WARNING: Disable this after all devices have been paired! (default: false)
permit_join: true

# Required: MQTT settings
mqtt:
    discovery: true
    # Required: MQTT base topic for zigbee2mqtt MQTT messages
    base_topic: {{ zigbee2mqtt_base_topic }}
    # Required: MQTT server URL (use mqtts:// for SSL/TLS connection)
    server: 'mqtt://{{ ansible_default_ipv4.address }}:1883'
    keepalive: 60
    # Optional: MQTT protocol version (default: 4), set this to 5 if you
    # use the 'retention' device specific configuration
    version: 4

# Required: serial settings
serial:
    port: /dev/ttyACM0
    disable_led: true

frontend:
    port: 8080

advanced:
    network_key: GENERATE
    log_directory: {{ zigbee2mqtt_log_path }}
    log_file: '%TIMESTAMP%_log.txt'
    timestamp_format: 'YYYY-MM-DD'
    log_rotation: true
    baudrate: 115200
    rtscts: false

experimental:
    output: 'attribute_and_json'

devices:
{% for ieee_address, friendly_name in zigbee2mqtt_device_map.items() %}
    '{{ ieee_address }}':
        friendly_name: {{ friendly_name }}
{% endfor %}
